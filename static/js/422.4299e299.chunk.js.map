{"version":3,"file":"static/js/422.4299e299.chunk.js","mappings":"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","sources":["pages/MovieDetails/MovieDetails.styled.jsx","pages/MovieDetails/MovieDetails.jsx","services/movieAPI.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const MovieCard = styled.div`\n  display: flex;\n  margin-bottom: 15px;\n`;\n\nexport const MovieInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  gap: 10px;\n`;\n","import { useState, useEffect } from 'react';\nimport { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport { getMovieById } from 'services';\nimport { Bars } from 'react-loader-spinner';\nimport { MovieCard, MovieInfo } from './MovieDetails.styled';\nimport styled from '@emotion/styled';\nimport { HiArrowSmLeft } from 'react-icons/hi';\nimport { Suspense } from 'react';\n\nimport Error from 'components/Error';\n\nconst GoBackLink = styled(Link)`\n  display: block;\n  width: 100px;\n  padding: 5px;\n  margin-bottom: 5px;\n  text-align: center;\n\n  text-decoration: none;\n  color: currentColor;\n  border: 1px solid #c9c9c9;\n  border-radius: 3px;\n  :hover,\n  :focus {\n    background-color: #f7eded;\n    border-color: #0f86c8;\n    box-shadow: rgba(0, 0, 0, 0.16) 0px 3px 6px, rgba(0, 0, 0, 0.23) 0px 3px 6px;\n  }\n`;\n\nconst MovieDetails = () => {\n  const [movieInfo, setMovieInfo] = useState([]);\n  const { movieId } = useParams();\n  const location = useLocation();\n  const [isLoading, setIsLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [backLinkHref, setBackLinkHref] = useState(null);\n\n  useEffect(() => {\n    if (backLinkHref) {\n      return;\n    }\n    const state = location.state?.from ?? '/goit-react-hw-05-movies';\n    setBackLinkHref(state);\n  }, [backLinkHref, location.state]);\n\n  useEffect(() => {\n    const fetchMovieById = async () => {\n      setIsLoading(true);\n      try {\n        const movieData = await getMovieById(movieId);\n        const { genres, vote_average, overview, original_title, poster_path } =\n          movieData;\n        setMovieInfo({\n          genres,\n          vote_average,\n          overview,\n          original_title,\n          poster_path,\n        });\n      } catch (error) {\n        setErrorMessage(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchMovieById();\n  }, [movieId]);\n\n  const { genres, vote_average, overview, original_title, poster_path } =\n    movieInfo;\n\n  return (\n    <>\n      {isLoading && (\n        <Bars\n          height=\"40\"\n          width=\"40\"\n          color=\"#280232\"\n          ariaLabel=\"bars-loading\"\n          wrapperStyle={{}}\n          wrapperClass=\"\"\n          visible={true}\n        />\n      )}\n      {Object.keys(movieInfo).length > 0 && (\n        <>\n          <GoBackLink to={backLinkHref}>\n            <HiArrowSmLeft /> Go back\n          </GoBackLink>\n          <MovieCard>\n            {poster_path ? (\n              <img\n                src={`https://image.tmdb.org/t/p/w300${poster_path}`}\n                alt={original_title}\n                width=\"200\"\n              />\n            ) : (\n              <img\n                src=\"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg\"\n                width=\"200\"\n                alt={original_title}\n              ></img>\n            )}\n            <MovieInfo>\n              <h2>{original_title}</h2>\n              <p>User score: {vote_average}</p>\n              <h3>Overview</h3>\n              <p>{overview}</p>\n              <h3>Genres</h3>\n              <p>{genres.map(({ name }) => name).join(' ')}</p>\n            </MovieInfo>\n          </MovieCard>\n          <div>\n            <p>Additional information</p>\n            <ul>\n              <li>\n                <Link to=\"cast\">Cast</Link>\n              </li>\n              <li>\n                <Link to=\"reviews\">Reviews</Link>\n              </li>\n            </ul>\n          </div>\n          {errorMessage && <Error errorMessage={errorMessage} />}\n          <Suspense\n            fallback={\n              <Bars\n                height=\"40\"\n                width=\"40\"\n                color=\"#280232\"\n                ariaLabel=\"bars-loading\"\n                wrapperStyle={{}}\n                wrapperClass=\"\"\n                visible={true}\n              />\n            }\n          >\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst API_KEY = '6251e629c61bceaf56a3d45f05637256';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst movieApi = axios.create({\n  baseURL: BASE_URL,\n});\n\nconst config = { params: { api_key: API_KEY } };\n\nexport const fetchTrendingMovie = async () => {\n  const response = await movieApi('/trending/movie/day', config);\n  return response;\n};\n\nexport const getMovieById = async id => {\n  const response = await movieApi(`/movie/${id}`, config);\n  return response.data;\n};\n\n// Функція отримання даних про акторський склад\nexport const getMovieCast = async id => {\n  const response = await movieApi(`/movie/${id}/credits`, config);\n  return response.data;\n};\n// Треба такі дані для картки акторів\n// profile_path;\n// character;\n// name;\n// =============================================\n\n// Функція отримання даних Reviews\nexport const getMovieReviews = async id => {\n  const response = await movieApi(`/movie/${id}/reviews`, config);\n  return response.data.results;\n};\n\nexport const searchMovie = async query => {\n  const searchConfig = { params: { api_key: API_KEY, query: query } };\n  const response = await movieApi('/search/movie', searchConfig);\n  return response;\n};\n\n// МАСИВ ЖАНРІВ ПОДУМАТИ ЯК ВИКОРИСТАТИ І КУДИ ВНЕСТИ ДАНІ\n// https://api.themoviedb.org/3/genre/movie/list?api_key=6251e629c61bceaf56a3d45f05637256\n\n// genres;\n// vote_average;\n// overview;\n// original_title;\n// poster_path;\n\n// /movie/{movie_id}/credits\n\n// /movie/{movie_id}/reviews\n"],"names":["MovieCard","styled","MovieInfo","GoBackLink","Link","useState","movieInfo","setMovieInfo","movieId","useParams","location","useLocation","isLoading","setIsLoading","errorMessage","setErrorMessage","backLinkHref","setBackLinkHref","useEffect","state","from","fetchMovieById","getMovieById","movieData","genres","vote_average","overview","original_title","poster_path","message","height","width","color","ariaLabel","wrapperStyle","wrapperClass","visible","Object","keys","length","to","src","alt","map","name","join","Suspense","fallback","API_KEY","movieApi","axios","baseURL","config","params","api_key","fetchTrendingMovie","response","id","data","getMovieCast","getMovieReviews","results","searchMovie","query","searchConfig"],"sourceRoot":""}